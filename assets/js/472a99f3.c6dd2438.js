"use strict";(self.webpackChunkhome=self.webpackChunkhome||[]).push([[190],{7876:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294);const l=e=>{const[t,a]=(0,n.useState)(e);return{formValues:t,onChangeInput:(e,n)=>{a({...t,[e]:n})},onSubmitForm:e=>{e.preventDefault()}}}},1883:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(7294),l=a(179),r=a(7876);const s="issueTable_Tyk5";const c=function(e){let{issues:t}=e;const[a,l]=(0,n.useState)(null);return n.createElement("table",{className:s,style:{width:"100%"}},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Title"),n.createElement("th",null,"Labels"),n.createElement("th",null,"User"))),n.createElement("tbody",null,0===t.length?n.createElement(n.Fragment,null,n.createElement("tr",null,n.createElement("td",{colSpan:3},"No issues fetched. Please fetch issues to view them here.")),n.createElement("tr",null,n.createElement("td",{colSpan:3},"Or")),n.createElement("tr",null,n.createElement("td",{colSpan:3},"No valid issues available. Check your criteria."))):t.map((e=>n.createElement(n.Fragment,{key:e.id},n.createElement("tr",{onClick:()=>{return t=e.id,void l(a===t?null:t);var t}},n.createElement("td",null,n.createElement("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer"},e.title)),n.createElement("td",null,e.labels.map((e=>e.name)).join(", ")),n.createElement("td",null,e.user.login)),a===e.id&&n.createElement("tr",null,n.createElement("td",{colSpan:4},e.body)))))))};async function i(e,t,a,n){const l=n?await async function(e,t){return(await fetch("https://api.github.com/user/repos?per_page=100&affiliation=owner",{headers:t})).json()}(0,a):await async function(e,t){return(await fetch(`https://api.github.com/orgs/${e}/repos?type=all&per_page=100`,{headers:t})).json()}(e,a),r=l.map((e=>async function(e,t,a){return(await fetch(`https://api.github.com/repos/${e}/issues?labels=${t.join(",")}`,{headers:a})).json()}(e.full_name,t,a))),s=await Promise.all(r);return[].concat(...s)}const o=function(){const{formValues:e,onChangeInput:t,onSubmitForm:a}=(0,r.Z)({org:"",pat:"",labels:"",isUser:!1}),{org:s,pat:o,labels:m,isUser:u}=e,[h,p]=(0,n.useState)([]);return n.createElement(l.Z,{title:"Issue Pulse",description:"Fetch issues from GitHub"},n.createElement("div",{className:"container margin-top--lg"},n.createElement("div",{className:"hero shadow--lw margin-bottom--md"},n.createElement("div",{className:"container"},n.createElement("h1",{className:"hero__title"},"Issue Pulse"),n.createElement("p",{className:"hero__subtitle"},"Complementing"," ",n.createElement("a",{href:"https://github.com/scherersebastian/issue-injector"},"Issue Injector"),", Issue Pulse is your comprehensive overview for cross-repository security issues. Keep a pulse on every vulnerability."),n.createElement("div",null,n.createElement("form",{onSubmit:async e=>{e.preventDefault(),a(e);const t={Authorization:`token ${o}`,Accept:"application/vnd.github.v3+json"};try{const e=m.split(",").map((e=>e.trim())),a=await i(s,e,t,u);p(a)}catch(n){console.error("There was a problem with the fetch operation:",n)}}},n.createElement("div",{className:"margin-top--md"},n.createElement("label",null,n.createElement("input",{type:"checkbox",name:"isUser",checked:e.isUser,onChange:e=>t(e.target.name,e.target.checked)}),"Fetch issues from User instead of Organisation")),n.createElement("div",{className:"margin-top--md"},n.createElement("label",null,"Organisation:",n.createElement("input",{name:"org",value:s,placeholder:"Type your GitHub organisation...",onChange:e=>t(e.target.name,e.target.value),style:{width:"100%",height:"35px"}}))),n.createElement("div",{className:"margin-top--md"},n.createElement("label",null,"Personal Access Token (PAT):",n.createElement("input",{name:"pat",value:o,type:"password",placeholder:"Type your PAT...",onChange:e=>t(e.target.name,e.target.value),style:{width:"100%",height:"35px"}}))),n.createElement("div",{className:"margin-top--md"},n.createElement("label",null,"Issue Labels (comma-separated):",n.createElement("input",{name:"labels",value:m,placeholder:"e.g. security, kics, bug",onChange:e=>t(e.target.name,e.target.value),style:{width:"100%",height:"35px"}}))),n.createElement("div",{className:"margin-top--md"},n.createElement("button",{className:"button button--primary",type:"submit",style:{width:"100%"}},"Fetch Issues")))))),n.createElement(c,{issues:h})))}}}]);